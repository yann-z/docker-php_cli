version: '3'

services:

### PHP-CLI Container #######################################

    php-7.1-cli:
      container_name: "php-${TAG_PHP_7_1_CLI}"
      image: "yann/php:${TAG_PHP_7_1_CLI}"
      build:
        context: ./build
        dockerfile: docker_file_php_7_1_cli
        args:
          - image_tag=${TAG_PHP_7_1_CLI}
      volumes:
        - ${PATH_PROJECT_ROOT}/conf/php.ini:/usr/local/etc/php/php.ini
        - ${PATH_WEB_DATA}/cli_log:/usr/local/var/log
        - ${PATH_APP_ROOT}:/var/www/app     
      working_dir: /var/www/app
      networks:
        - php-cli
      ports:
        - "8000:8000"
      environment:
        TZ: "Asia/Shanghai"


### Networks Setup ##########################################
    
networks:
    php-cli:
